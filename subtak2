#include <iostream>
#include <bitset>
#include <string>
#include <sstream>
#include <cstdlib>   // for rand()
#include <ctime>     // for seeding random numbers
using namespace std;

// Convert Decimal to Binary
string decimalToBinary(int num) {
    return bitset<16>(num).to_string();
}

// Convert Binary to Decimal
int binaryToDecimal(string bin) {
    return stoi(bin, nullptr, 2);
}

// Convert Decimal to Hexadecimal
string decimalToHex(int num) {
    stringstream ss;
    ss << hex << uppercase << num;
    return ss.str();
}

// Convert Hexadecimal to Decimal
int hexToDecimal(string hexNum) {
    return stoi(hexNum, nullptr, 16);
}

// Demo function (random number to binary)
void demo() {
    srand(time(0)); // seed random generator
    int randomNum = rand() % 100; // random number between 0 and 99
    cout << "\n--- Demo Option ---\n";
    cout << "Random number generated: " << randomNum << endl;
    cout << "Binary form: " << decimalToBinary(randomNum) << endl;
    cout << "-------------------\n\n";
}

int main() {
    int choice, num;
    string bin, hexNum;

    do {
        cout << "\n===== Number Converter Menu =====\n";
        cout << "1. Decimal to Binary\n";
        cout << "2. Binary to Decimal\n";
        cout << "3. Decimal to Hexadecimal\n";
        cout << "4. Hexadecimal to Decimal\n";
        cout << "5. Demo (Random number to Binary)\n";
        cout << "6. Exit\n";
        cout << "Choose an option: ";
        cin >> choice;

        switch(choice) {
            case 1:
                cout << "Enter Decimal number: ";
                cin >> num;
                cout << "Binary: " << decimalToBinary(num) << endl;
                break;
            case 2:
                cout << "Enter Binary number: ";
                cin >> bin;
                cout << "Decimal: " << binaryToDecimal(bin) << endl;
                break;
            case 3:
                cout << "Enter Decimal number: ";
                cin >> num;
                cout << "Hexadecimal: " << decimalToHex(num) << endl;
                break;
            case 4:
                cout << "Enter Hexadecimal number: ";
                cin >> hexNum;
                cout << "Decimal: " << hexToDecimal(hexNum) << endl;
                break;
            case 5:
                demo();
                break;
            case 6:
                cout << "Exiting program...\n";
                break;
            default:
                cout << "Invalid choice, try again.\n";
        }
    } while(choice != 6);

    return 0;
}
